<ion-app>
    <div class="ion-page" main>
        <ion-header>
          <ion-toolbar>
              <ion-buttons slot="start">
                  <ion-menu-button></ion-menu-button>
              </ion-buttons>
            <ion-title>Profile</ion-title>
          </ion-toolbar>
        </ion-header>
        <ion-content fullscreen="">
            <ion-card class="vertical-margin" style="height: 90vh">
                <div style="display: flex; height: 200px">
                    <div style="width: 100%">
                        <img *ngIf="photo" class="image-contain" src="{{photo}}"/>
                        <img *ngIf="!photo" class="image-contain" src="../../../assets/img/default_user.png"/>
                    </div>
                    <div class="personal-icon" style="position: absolute; width: 100%; height: 200px">
                        <input #imageInput
                             style="width: 100%; height: 200px;"
                             class="image-input"
                             type = 'file'
                             accept="image/*"
                             (change) = "processPhoto(imageInput)">
                    </div>
                </div>
                <ion-card-header *ngIf="userTest">
                  <ion-card-title class="text-center">{{userTest.name}}</ion-card-title>
                  <ion-card-subtitle class="text-center" style="text-transform: inherit; font-size: 18px" (click)="sendEmail(userTest.email)">{{userTest.email}}</ion-card-subtitle>
                </ion-card-header>
                <div *ngIf="userTest" class="vertical-margin">
                    <div style="width: 100%">
                        <ion-button class="square-button" (click)="seeMyPosts()">
                            <div>
                                <i class="material-icons button-icon">post_add</i>
                                <h3 class="button-title">Posts</h3>
                            </div>
                            <div class="number">
                                {{userTest.posts}}
                            </div>
                        </ion-button>
                        <ion-button class="square-button" (click)="seeMyEvents()">
                            <div>
                              <i class="material-icons button-icon">event</i>
                              <h3 class="button-title">Events</h3>
                            </div>
                          <div class="number">
                            {{userTest.events}}
                          </div>
                        </ion-button>
                    </div>
                  <div style="width: 100%">
                    <ion-button class="square-button" (click)="seeMyFollowers()">
                      <div>
                        <i class="material-icons button-icon">people_alt</i>
                        <h3 class="button-title">Followers</h3>
                      </div>
                      <div class="number">
                        {{userTest.followers}}
                      </div>
                    </ion-button>
                    <ion-button class="square-button" (click)="seeMyFollowing()">
                      <div>
                        <i class="material-icons button-icon">group_add</i>
                        <h3 class="button-title">Following</h3>
                      </div>
                      <div class="number">
                        {{userTest.following}}
                      </div>
                    </ion-button>
                  </div>
                </div>
            </ion-card>
        </ion-content>
    </div>
</ion-app>
