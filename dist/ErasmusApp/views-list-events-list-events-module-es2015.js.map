{"version":3,"sources":["./src/app/views/list-events/list-events.page.html","./src/app/views/list-events/list-events-routing.module.ts","./src/app/views/list-events/list-events.module.ts","./src/app/views/list-events/list-events.page.scss","./src/app/views/list-events/list-events.page.ts","./src/app/views/list-events/list-events.service.ts"],"names":[],"mappings":"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","file":"views-list-events-list-events-module-es2015.js","sourcesContent":["export default \"<ion-app>\\r\\n  <div class=\\\"ion-page\\\" main>\\r\\n    <ion-header>\\r\\n      <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Events</ion-title>\\r\\n      </ion-toolbar>\\r\\n    </ion-header>\\r\\n\\r\\n    <ion-content>\\r\\n      <ion-card class=\\\"vertical-margin\\\" *ngFor=\\\"let post of this.events\\\">\\r\\n        <ion-card-header color=\\\"light\\\" class=\\\"text-center\\\" style=\\\"font-size: 22px\\\">\\r\\n          {{post.description}}\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n          <ion-item>\\r\\n            <ion-button class=\\\"middle-card\\\" (click)=\\\"changePageComments(this.post._id)\\\">View event</ion-button>\\r\\n          </ion-item>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-content>\\r\\n  </div>\\r\\n</ion-app>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ListEventsPage } from './list-events.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListEventsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ListEventsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListEventsPageRoutingModule } from './list-events-routing.module';\r\n\r\nimport { ListEventsPage } from './list-events.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ListEventsPageRoutingModule\r\n  ],\r\n  declarations: [ListEventsPage]\r\n})\r\nexport class ListEventsPageModule {}\r\n","export default \"ion-card-header {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvbGlzdC1ldmVudHMvQzpcXFVzZXJzXFxzZ2FsZVxcV2Vic3Rvcm1Qcm9qZWN0c1xcRXJhc211c0FwcC9zcmNcXGFwcFxcdmlld3NcXGxpc3QtZXZlbnRzXFxsaXN0LWV2ZW50cy5wYWdlLnNjc3MiLCJzcmMvYXBwL3ZpZXdzL2xpc3QtZXZlbnRzL2xpc3QtZXZlbnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC92aWV3cy9saXN0LWV2ZW50cy9saXN0LWV2ZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZC1oZWFkZXJ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbiIsImlvbi1jYXJkLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport {User} from '../../models/User/user';\r\nimport {PostApp} from '../../models/Posts/postApp';\r\nimport {UserService} from '../../models/User/user.service';\r\nimport {PostService} from '../post/post.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AlertController, MenuController} from '@ionic/angular';\r\nimport {StorageComponent} from '../../storage/storage.component';\r\nimport {EventService} from '../event/event.service';\r\nimport {ListEventsService} from './list-events.service';\r\nimport {EventApp} from '../../models/Events/EventApp';\r\n\r\n@Component({\r\n  selector: 'app-list-events',\r\n  templateUrl: './list-events.page.html',\r\n  styleUrls: ['./list-events.page.scss'],\r\n})\r\nexport class ListEventsPage implements OnInit {\r\n\r\n  user: User;\r\n  events: EventApp [];\r\n  _id: string;\r\n\r\n  constructor(private userService: UserService,\r\n              private eventService: ListEventsService,\r\n              private router: Router,\r\n              public menuCtrl: MenuController,\r\n              public storage: StorageComponent,\r\n              private route: ActivatedRoute,\r\n              public alertCtrl: AlertController) { }\r\n  async ngOnInit() {\r\n    this.load();\r\n  }\r\n  async ionViewDidEnter() {\r\n    this.load();\r\n  }\r\n  async load() {\r\n    this._id = this.route.snapshot.paramMap.get('id');\r\n    await this.eventService.getEvents(this._id).subscribe(res => {\r\n      console.log('response', res);\r\n      const response: any = res;\r\n      this.events = response.events;\r\n    }, error => {\r\n      console.log('error');\r\n    });\r\n  }\r\n  async deletePost(id: string) {\r\n    this.alertCtrl.create({\r\n      header: 'TYPE',\r\n      message: 'Are you sure that you want delete this message?',\r\n      buttons: [{text: 'Yes', handler: () => {\r\n          this.eventService.deleteEvents(id).subscribe(res => {\r\n            console.log(res);\r\n            this.router.navigateByUrl('/profile');\r\n          }, error => {\r\n            console.log(error);\r\n          });\r\n        }},\r\n        {text: 'No',  handler: () => {\r\n          }}]\r\n    }).then(alert => {\r\n      alert.present();\r\n    });\r\n  }\r\n  async changePageComments(idPost) {\r\n    await this.router.navigateByUrl('/profile-event/' + `${idPost}`);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {environment} from '../../../environments/environment';\r\nimport {BehaviorSubject} from 'rxjs';\r\nimport {Post} from '../../models/Posts/post';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Storage} from '@ionic/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ListEventsService {\r\n\r\n  POST_SERVER_ADDRESS = environment.apiUri;\r\n  homeSubject = new BehaviorSubject(false);\r\n\r\n  activity: Post[];\r\n\r\n  constructor(private httpClient: HttpClient, private storage: Storage) {}\r\n\r\n  getEvents(id: string) {\r\n    return this.httpClient.get(`${this.POST_SERVER_ADDRESS}/user/events/` + `${id}` + `/0`);\r\n  }\r\n  deleteEvents(id: string) {\r\n    return this.httpClient.delete(`${this.POST_SERVER_ADDRESS}/event/` + `${id}`);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}