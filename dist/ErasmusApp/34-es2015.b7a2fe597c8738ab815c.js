(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{kpsZ:function(l,n,o){"use strict";o.r(n);var u=o("8Y7J");class i{}var e=o("pMnS"),r=o("oBZk"),t=o("ZZ/e"),s=o("SVse"),b=o("mrSG"),c=o("Z5J9"),a=o("QQ+o"),f=o("25lC");class h{constructor(l,n,o,u,i,e){this.userService=l,this.route=n,this.router=o,this.storage=u,this.menuCtrl=i,this.profileService=e}ngOnInit(){return b.b(this,void 0,void 0,(function*(){this.load()}))}ionViewDidEnter(){return b.b(this,void 0,void 0,(function*(){this.load()}))}load(){return b.b(this,void 0,void 0,(function*(){this._id=this.route.snapshot.paramMap.get("id"),this.user=JSON.parse(this.storage.getUser()),yield this.profileService.getProfile(this._id).subscribe(l=>b.b(this,void 0,void 0,(function*(){this.userProfile=l.profile,this.otherUserProfile=this.userProfile,this.photo=(yield this.userService.getPhoto(this.otherUserProfile._id).toPromise()).photo})),l=>{console.log("error")}),yield this.profileService.getFollowers(this._id).subscribe(l=>{this.followers=l.followers,this.checkFol()},l=>{console.log("error")})}))}follow(){return b.b(this,void 0,void 0,(function*(){yield this.profileService.follow(this.user._id,this.userProfile._id).subscribe(l=>{this.load()})}))}unfollow(){return b.b(this,void 0,void 0,(function*(){this.profileService.unfollow(this.user._id,this.userProfile._id).toPromise(),yield this.router.navigateByUrl("/profile")}))}seeMyPosts(){return b.b(this,void 0,void 0,(function*(){yield this.router.navigateByUrl("/posts/"+`${this._id}`)}))}seeMyFollowers(){return b.b(this,void 0,void 0,(function*(){yield this.router.navigateByUrl("/followers/"+`${this._id}`)}))}seeMyFollowing(){return b.b(this,void 0,void 0,(function*(){yield this.router.navigateByUrl("/following/"+`${this._id}`)}))}checkFol(){this.followcheck=this.profileService.checkFollow(this.followers,this.user._id),console.log("followcheck: ",this.followcheck),this.following="not"!==this.followcheck}}var p=o("iInd"),d=u.Bb({encapsulation:0,styles:[[""]],data:{}});function g(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,0,"img",[["class","image-contain"],["style","width: 200px; height: 200px;"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,u.Hb(1,"",n.component.photo,""))}))}function v(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,0,"img",[["class","image-contain"],["src","../../../assets/img/default_user.png"],["style","width: 200px; height: 200px;"]],null,null,null,null,null))],null,null)}function w(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,7,"ion-card-header",[],null,null,null,r.O,r.i)),u.Cb(1,49152,null,0,t.p,[u.j,u.p,u.G],null,null),(l()(),u.Db(2,0,null,0,2,"ion-card-subtitle",[],null,null,null,r.P,r.j)),u.Cb(3,49152,null,0,t.q,[u.j,u.p,u.G],null,null),(l()(),u.Wb(4,0,["",""])),(l()(),u.Db(5,0,null,0,2,"ion-card-title",[],null,null,null,r.Q,r.k)),u.Cb(6,49152,null,0,t.r,[u.j,u.p,u.G],null,null),(l()(),u.Wb(7,0,["",""]))],null,(function(l,n){var o=n.component;l(n,4,0,o.otherUserProfile.email),l(n,7,0,o.otherUserProfile.name)}))}function m(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u.Db(1,0,null,null,4,"ion-toolbar",[["color","primary"]],null,null,null,r.nb,r.G)),u.Cb(2,49152,null,0,t.Db,[u.j,u.p,u.G],{color:[0,"color"]},null),(l()(),u.Db(3,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,o){var u=!0;return"click"===n&&(u=!1!==l.component.seeMyPosts()&&u),u}),r.L,r.e)),u.Cb(4,49152,null,0,t.l,[u.j,u.p,u.G],null,null),(l()(),u.Wb(5,0,["Posts: ",""])),(l()(),u.Db(6,0,null,null,4,"ion-toolbar",[["color","secondary"]],null,null,null,r.nb,r.G)),u.Cb(7,49152,null,0,t.Db,[u.j,u.p,u.G],{color:[0,"color"]},null),(l()(),u.Db(8,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,o){var u=!0;return"click"===n&&(u=!1!==l.component.seeMyFollowers()&&u),u}),r.L,r.e)),u.Cb(9,49152,null,0,t.l,[u.j,u.p,u.G],null,null),(l()(),u.Wb(10,0,["Followers: ",""])),(l()(),u.Db(11,0,null,null,4,"ion-toolbar",[["color","tertiary"]],null,null,null,r.nb,r.G)),u.Cb(12,49152,null,0,t.Db,[u.j,u.p,u.G],{color:[0,"color"]},null),(l()(),u.Db(13,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,o){var u=!0;return"click"===n&&(u=!1!==l.component.seeMyFollowing()&&u),u}),r.L,r.e)),u.Cb(14,49152,null,0,t.l,[u.j,u.p,u.G],null,null),(l()(),u.Wb(15,0,["Following: ",""]))],(function(l,n){l(n,2,0,"primary"),l(n,7,0,"secondary"),l(n,12,0,"tertiary")}),(function(l,n){var o=n.component;l(n,5,0,o.otherUserProfile.posts),l(n,10,0,o.otherUserProfile.followers),l(n,15,0,o.otherUserProfile.following)}))}function y(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,13,"ion-card-content",[],null,null,null,r.N,r.h)),u.Cb(1,49152,null,0,t.o,[u.j,u.p,u.G],null,null),(l()(),u.sb(16777216,null,0,1,null,m)),u.Cb(3,16384,null,0,s.j,[u.Y,u.U],{ngIf:[0,"ngIf"]},null),(l()(),u.Db(4,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,r.nb,r.G)),u.Cb(5,49152,null,0,t.Db,[u.j,u.p,u.G],{color:[0,"color"]},null),(l()(),u.Db(6,0,null,0,2,"ion-button",[["color","tertiary"],["expand","block"],["size","large"]],null,[[null,"click"]],(function(l,n,o){var u=!0;return"click"===n&&(u=!1!==l.component.follow()&&u),u}),r.L,r.e)),u.Cb(7,49152,null,0,t.l,[u.j,u.p,u.G],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],size:[3,"size"]},null),(l()(),u.Wb(-1,0,["Follow"])),(l()(),u.Db(9,0,null,0,4,"ion-toolbar",[["color","secondary"]],null,null,null,r.nb,r.G)),u.Cb(10,49152,null,0,t.Db,[u.j,u.p,u.G],{color:[0,"color"]},null),(l()(),u.Db(11,0,null,0,2,"ion-button",[["color","tertiary"],["expand","block"],["size","large"]],null,[[null,"click"]],(function(l,n,o){var u=!0;return"click"===n&&(u=!1!==l.component.unfollow()&&u),u}),r.L,r.e)),u.Cb(12,49152,null,0,t.l,[u.j,u.p,u.G],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],size:[3,"size"]},null),(l()(),u.Wb(-1,0,["UnFollow"]))],(function(l,n){var o=n.component;l(n,3,0,o.following),l(n,5,0,"primary"),l(n,7,0,"tertiary",o.following,"block","large"),l(n,10,0,"secondary"),l(n,12,0,"tertiary",!o.following,"block","large")}),null)}function D(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,29,"ion-app",[],null,null,null,r.H,r.a)),u.Cb(1,49152,null,0,t.f,[u.j,u.p,u.G],null,null),(l()(),u.Db(2,0,null,0,27,"div",[["class","ion-page"],["main",""]],null,null,null,null,null)),(l()(),u.Db(3,0,null,null,10,"ion-header",[],null,null,null,r.Y,r.r)),u.Cb(4,49152,null,0,t.C,[u.j,u.p,u.G],null,null),(l()(),u.Db(5,0,null,0,8,"ion-toolbar",[],null,null,null,r.nb,r.G)),u.Cb(6,49152,null,0,t.Db,[u.j,u.p,u.G],null,null),(l()(),u.Db(7,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,r.M,r.f)),u.Cb(8,49152,null,0,t.m,[u.j,u.p,u.G],null,null),(l()(),u.Db(9,0,null,0,1,"ion-menu-button",[],null,null,null,r.fb,r.z)),u.Cb(10,49152,null,0,t.S,[u.j,u.p,u.G],null,null),(l()(),u.Db(11,0,null,0,2,"ion-title",[],null,null,null,r.mb,r.F)),u.Cb(12,49152,null,0,t.Bb,[u.j,u.p,u.G],null,null),(l()(),u.Wb(-1,0,["Profile"])),(l()(),u.Db(14,0,null,null,15,"ion-content",[["fullscreen",""]],null,null,null,r.V,r.o)),u.Cb(15,49152,null,0,t.v,[u.j,u.p,u.G],{fullscreen:[0,"fullscreen"]},null),(l()(),u.Db(16,0,null,0,9,"ion-card",[["class","vertical-margin"]],null,null,null,r.R,r.g)),u.Cb(17,49152,null,0,t.n,[u.j,u.p,u.G],null,null),(l()(),u.Db(18,0,null,0,5,"div",[["style","background: #e44d3a; height: 50%"]],null,null,null,null,null)),(l()(),u.Db(19,0,null,null,4,"div",[["class","personal-icon"]],null,null,null,null,null)),(l()(),u.sb(16777216,null,null,1,null,g)),u.Cb(21,16384,null,0,s.j,[u.Y,u.U],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(16777216,null,null,1,null,v)),u.Cb(23,16384,null,0,s.j,[u.Y,u.U],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(16777216,null,0,1,null,w)),u.Cb(25,16384,null,0,s.j,[u.Y,u.U],{ngIf:[0,"ngIf"]},null),(l()(),u.Db(26,0,null,0,3,"ion-card",[["class","vertical-margin"]],null,null,null,r.R,r.g)),u.Cb(27,49152,null,0,t.n,[u.j,u.p,u.G],null,null),(l()(),u.sb(16777216,null,0,1,null,y)),u.Cb(29,16384,null,0,s.j,[u.Y,u.U],{ngIf:[0,"ngIf"]},null)],(function(l,n){var o=n.component;l(n,15,0,""),l(n,21,0,o.photo),l(n,23,0,!o.photo),l(n,25,0,o.otherUserProfile),l(n,29,0,o.otherUserProfile)}),null)}function C(l){return u.Yb(0,[(l()(),u.Db(0,0,null,null,1,"app-other-profile",[],null,null,null,D,d)),u.Cb(1,114688,null,0,h,[c.a,p.a,p.m,f.a,t.Hb,a.a],null,null)],(function(l,n){l(n,1,0)}),null)}var G=u.zb("app-other-profile",h,C,{},{},[]),j=o("s7LF");class k{}o.d(n,"OtherProfilePageModuleNgFactory",(function(){return P}));var P=u.Ab(i,[],(function(l){return u.Mb([u.Nb(512,u.m,u.lb,[[8,[e.a,G]],[3,u.m],u.E]),u.Nb(4608,s.l,s.k,[u.A,[2,s.w]]),u.Nb(4608,j.u,j.u,[]),u.Nb(4608,t.b,t.b,[u.G,u.g]),u.Nb(4608,t.Ib,t.Ib,[t.b,u.m,u.x]),u.Nb(4608,t.Lb,t.Lb,[t.b,u.m,u.x]),u.Nb(4608,j.d,j.d,[]),u.Nb(1073742336,s.b,s.b,[]),u.Nb(1073742336,j.t,j.t,[]),u.Nb(1073742336,j.i,j.i,[]),u.Nb(1073742336,t.Fb,t.Fb,[]),u.Nb(1073742336,p.p,p.p,[[2,p.u],[2,p.m]]),u.Nb(1073742336,k,k,[]),u.Nb(1073742336,j.q,j.q,[]),u.Nb(1073742336,i,i,[]),u.Nb(1024,p.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);