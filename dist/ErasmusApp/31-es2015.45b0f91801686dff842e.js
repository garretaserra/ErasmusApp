(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{GXG6:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class o{}var e=u("pMnS"),s=u("oBZk"),i=u("ZZ/e"),b=u("SVse"),r=u("mrSG"),a=u("Z5J9"),c=u("n0tf"),p=u("25lC");class d{constructor(l,n,u,t,o,e){this.userService=l,this.postService=n,this.router=u,this.menuCtrl=t,this.storage=o,this.alertCtrl=e}ngOnInit(){return r.b(this,void 0,void 0,(function*(){this.load()}))}load(){return r.b(this,void 0,void 0,(function*(){console.log("loading"),this.user=JSON.parse(this.storage.getUser()),console.log("this user",this.user),yield this.postService.getPosts(this.user._id).subscribe(l=>{console.log("response",l),this.posts=l.posts},l=>{console.log("error")})}))}deletePost(l){return r.b(this,void 0,void 0,(function*(){this.alertCtrl.create({header:"TYPE",message:"Are you sure that you want delete this message?",buttons:[{text:"Yes",handler:()=>{this.postService.deletePost(l).subscribe(l=>{console.log(l),this.router.navigateByUrl("/profile")},l=>{console.log(l)})}},{text:"No",handler:()=>{}}]}).then(l=>{l.present()})}))}}var h=u("iInd"),m=t.Bb({encapsulation:0,styles:[[""]],data:{}});function g(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,10,"ion-card",[["class","vertical-margin"]],null,null,null,s.R,s.g)),t.Cb(1,49152,null,0,i.n,[t.j,t.p,t.G],null,null),(l()(),t.Db(2,0,null,0,8,"ion-toolbar",[],null,null,null,s.nb,s.G)),t.Cb(3,49152,null,0,i.Db,[t.j,t.p,t.G],null,null),(l()(),t.Wb(4,0,[""," "])),(l()(),t.Db(5,0,null,0,5,"ion-item",[],null,null,null,s.bb,s.u)),t.Cb(6,49152,null,0,i.I,[t.j,t.p,t.G],null,null),(l()(),t.Db(7,0,null,0,3,"ion-button",[["class","home"],["slot","end"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deletePost(l.context.$implicit._id)&&t),t}),s.L,s.e)),t.Cb(8,49152,null,0,i.l,[t.j,t.p,t.G],null,null),(l()(),t.Db(9,0,null,0,1,"ion-icon",[["name","close"],["slot","end"]],null,null,null,s.Z,s.s)),t.Cb(10,49152,null,0,i.D,[t.j,t.p,t.G],{name:[0,"name"]},null)],(function(l,n){l(n,10,0,"close")}),(function(l,n){l(n,4,0,n.context.$implicit.message)}))}function f(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,17,"ion-app",[],null,null,null,s.H,s.a)),t.Cb(1,49152,null,0,i.f,[t.j,t.p,t.G],null,null),(l()(),t.Db(2,0,null,0,15,"div",[["class","ion-page"],["main",""]],null,null,null,null,null)),(l()(),t.Db(3,0,null,null,10,"ion-header",[],null,null,null,s.Y,s.r)),t.Cb(4,49152,null,0,i.C,[t.j,t.p,t.G],null,null),(l()(),t.Db(5,0,null,0,8,"ion-toolbar",[],null,null,null,s.nb,s.G)),t.Cb(6,49152,null,0,i.Db,[t.j,t.p,t.G],null,null),(l()(),t.Db(7,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,s.M,s.f)),t.Cb(8,49152,null,0,i.m,[t.j,t.p,t.G],null,null),(l()(),t.Db(9,0,null,0,1,"ion-menu-button",[],null,null,null,s.fb,s.z)),t.Cb(10,49152,null,0,i.S,[t.j,t.p,t.G],null,null),(l()(),t.Db(11,0,null,0,2,"ion-title",[],null,null,null,s.mb,s.F)),t.Cb(12,49152,null,0,i.Bb,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Posts"])),(l()(),t.Db(14,0,null,null,3,"ion-content",[],null,null,null,s.V,s.o)),t.Cb(15,49152,null,0,i.v,[t.j,t.p,t.G],null,null),(l()(),t.sb(16777216,null,0,1,null,g)),t.Cb(17,278528,null,0,b.i,[t.Y,t.U,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,17,0,n.component.posts)}),null)}function v(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,1,"app-myposts",[],null,null,null,f,m)),t.Cb(1,114688,null,0,d,[a.a,c.a,h.m,i.Hb,p.a,i.a],null,null)],(function(l,n){l(n,1,0)}),null)}var C=t.zb("app-myposts",d,v,{},{},[]),G=u("s7LF");class D{}u.d(n,"MypostsPageModuleNgFactory",(function(){return N}));var N=t.Ab(o,[],(function(l){return t.Mb([t.Nb(512,t.m,t.lb,[[8,[e.a,C]],[3,t.m],t.E]),t.Nb(4608,b.l,b.k,[t.A,[2,b.w]]),t.Nb(4608,G.u,G.u,[]),t.Nb(4608,i.b,i.b,[t.G,t.g]),t.Nb(4608,i.Ib,i.Ib,[i.b,t.m,t.x]),t.Nb(4608,i.Lb,i.Lb,[i.b,t.m,t.x]),t.Nb(1073742336,b.b,b.b,[]),t.Nb(1073742336,G.t,G.t,[]),t.Nb(1073742336,G.i,G.i,[]),t.Nb(1073742336,i.Fb,i.Fb,[]),t.Nb(1073742336,h.p,h.p,[[2,h.u],[2,h.m]]),t.Nb(1073742336,D,D,[]),t.Nb(1073742336,o,o,[]),t.Nb(1024,h.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);